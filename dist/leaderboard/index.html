<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Leaderboard</title>
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">

    <script type="module" src="index.js" defer></script>

    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="./index.css">

    <script src="../assets/lib/chartist/chartist.min.js"></script>
    <link rel="stylesheet" href="../assets/lib/chartist/chartist.min.css">
</head>
<body>
<nav></nav>
<main>
    <div id="split">
        <div>
            <div>
                <label>
                    Only show for
                    <select
                        id="show-year"
                        aria-label="what years to show"
                        bind="showYears"
                        bind-persist
                    >
                        <option value="9,10,11,12,13">All</option>
                        <option value="9">9</option>
                        <option value="10">10</option>
                        <option value="11">11</option>
                        <option value="12">12</option>
                        <option value="13">13</option>
                        <option value="12,13">6th Form</option>
                    </select>
                </label>
            </div>
            <div id="podium" foreach="i in [1, 0, 2]">
                <div>
                    <p pump="students[i].email.split('@')[0]"></p>
                    <div
                        class="student podium-student"
                        pump.style="height: ${['80','60','40'][i]}%"
                    >
                        <p
                            class="podium-place"
                            pump.style="color: ${['gold','silver','#CD7F32'][i]}"
                            pump="['1st', '2nd', '3rd'][i]"
                        ></p>
                        <div
                            pump="students[i].accepted"
                            style="font-size: 1.5em"
                        ></div>
                    </div>
                </div>
            </div>

            <div
                id="leaderboard"
                foreach="student in students.slice(3)"
                each.hidden="!showYears.includes(parseInt(student.year))"
            >
                <div class="student">
                    <email- args="student"></email->
                    <div pump="student.accepted"></div>
                </div>
            </div>
        </div>
        <div>
            <div id="year-group-comparison">
                <div class="ct-chart"></div>
            </div>
        </div>
    </div>
</main>
<footer></footer>
</body>
</html>
