<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Dashboard</title>
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    <meta name="robots" content="noindex">

    <script type="module" src="./index.js" defer></script>

    <link rel="stylesheet" href="../assets/css/main.css">
    <link rel="stylesheet" href="./index.css">
</head>
<body>
<nav></nav>
<main>
    <button
        id="sign-out"
        aria-label="logout"
        svg="logout.svg"
        onclick="logout()"
        class="icon"
        data-label="Logout"
    ></button>
    <section>
        <p style="font-size: 2em; text-align: center;">
            <email- args="user, { fontsize: '50px' }"></email->
        </p>
        <a href="../set-password">
            Change Password
        </a>
    </section>

    <section>
        <a
            href="../admin/"
            class="big-link"
            svg="admin.svg"
            hidden="!user.admin"
        >Admin Dashboard</a>
    </section>

    <section hidden="!user.year">
        <p>
            <b>${core.escapeHTML(theUsersInfo['accepted'])}</b> accepted,
            <b>${core.escapeHTML(theUsersInfo['pending'])}</b> pending and
            <b>${core.escapeHTML(theUsersInfo['rejected'])}</b> rejected house points.
        </p>
    </section>

    <section
        hidden="!((user.email === theUser.email || user.admin) && theUser.student)"
    >
        <label>
            <textarea id="hp-reason"
                placeholder="House Point Requests (separate multiple by new line)"
                rows="2"></textarea>
        </label>
        <button
            id="submit-hp"
            class="icon"
            svg="plus.svg"
            aria-label="submit house point"
            data-label="Request House Points"
        ></button>
    </section>

    <section id="hps"></section>
</main>
<footer></footer>
</body>
</html>
